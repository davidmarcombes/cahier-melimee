<!doctype html>
<html lang="{{ lang or 'en' }}" class="antialiased">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{{ title or site.title }}</title>
  <meta name="description" content="{{ description or site.description }}" />

  <!-- Favicons & social images (replace with your own in src/assets/images/) -->
  <link rel="icon" href="/assets/images/favicon.png" />
  <link rel="apple-touch-icon" href="/assets/images/favicon.png" />
  <meta name="theme-color" content="#ffffff">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="{{ title or site.title }}" />
  <meta property="og:description" content="{{ description or site.description }}" />
  <meta property="og:image" content="{{ site.url }}/assets/images/share-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="{{ site.url }}/assets/images/share-image.jpg" />

  <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/styles.css">
    <style>
      [x-cloak] { display: none !important; }
    </style>
    <script>
      (function() {
        var stored = localStorage.getItem('theme');
        if (stored === 'dark' || (!stored && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.classList.add('dark');
        }
      })();
    </script>
  </head>
  <body class="min-h-screen flex flex-col bg-white text-slate-900 dark:bg-slate-900 dark:text-slate-100">
    {% include "components/header.njk" %}

    <main class="flex-1 max-w-6xl mx-auto px-4 py-8 w-full">
      {{ content | safe }}
    </main>

    {% include "components/footer.njk" %}

    <script defer src="/assets/js/app.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- PocketBase SDK -->
    <script src="https://unpkg.com/pocketbase@latest/dist/pocketbase.umd.js"></script>
  </body>
</html>
